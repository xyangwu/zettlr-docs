# 问题排除

与其他软件一样，Zettlr可能偶尔会出现问题。本页介绍了如何解决这些问题。根据多年来的经验，下面列出的办法应该能解决大多数问题。

!!! 注意

    遇到任何问题，请首先尝试下面列出的步骤，并参考[常见问题解答](../reference/faq.md)。如果这些步骤不能解决你的问题，请询问[我们的社区](get-involved.md/#general-resources)。如果我们的社区也无法帮到你，请在GitHub上提交issue。

## 1. 尝试关闭然后重新启动

退出Zettlr然后重新启动，这能简单解决许多故障。重新启动计算机也可能有所帮助。

!!! 注意

    如果你多次遇到同一问题，也就是说在你执行特定操作后 _总会_ 出现该问题，这表明你发现了可复现的bug。当出现这种情况，请在提交issue时提供出现bug的操作步骤。

## 2. 安装最新版本

很多问题已在较新的版本中修复。如果遇到问题，请确保已安装最新版本。

## 3. 尝试清除缓存

Zettlr有时会发生损坏FSAL缓存的小故障。这意味着烦人的动作会在重启之后继续存在。一个非常简单的解决方法是清除FSAL缓存。要清除缓存，在菜单中单击“帮助”&rarr;“清除FSAL缓存…”，然后确认重新启动应用程序。

应用程序将立即重启并新建FSAL缓存。如果你的计算机速度较慢，磁盘速度较慢或打开了大量文件，那么重启将需要一些时间。Zettlr只会在完成FSAL缓存重新创建后显示应用窗口，可能需要几秒钟甚至更长时间。在此过程中请耐心等待，之后应用程序的重启会变得很快。

!!! 注意

    此外，还有两种手动的方法同样可以解决缓存问题，以防你可能需要它们，我们列出了这两种方法。首先确保Zettlr已关闭，然后选用两种方法之一：(a)前往Zettlr的配置文件夹，删除`fsal/cache`目录；(b)从命令行启动Zettlr，并加上`--clear-cache`的flag参数。

## 4. 尝试重置应用程序

有时应用程序似乎完全无法使用（比如甚至无法启动）。我们发现有时底层Electron框架的缓存也可能会导致小故障，由于我们无法控制框架的缓存，删除这些缓存文件可能会有所帮助。

Zettlr保存本地设置和元数据的文件夹和Electron是同一个。在某些情况下，你可能想要重置、读取或修改这些数据（例如，安装过程似乎有问题、意外加载了错误的工作区等）。

这些数据位于 _应用程序数据路径_（application data path）中，具体位置取决于你的操作系统：

* **Windows：**`C:\Users\<用户名>\AppData\Roaming\Zettlr`（请注意AppData是一个隐藏文件夹，你可能需要更改资源管理器设置使其显示）
* **macOS：**`/Users/<用户名>/Library/Application Support/Zettlr`（打开Finder窗口，按下"Alt"键的同时打开"Go"菜单，并点击"Library"入口）
* **Linux：**`/home/<用户名>/.config/Zettlr`（请注意`.config`是一个隐藏文件夹，可能需要使用命令行来打开它）

如果你要完全重置本地安装的Zettlr，请按以下步骤操作：

1. 首先确保应用程序已关闭（在某些情况下，可能会有一个“僵尸”进程，你可以从任务管理器或活动监视器中关闭它）。
2. 确保选择备份以下文件和文件夹：
    * `stats.json`（你的写作统计信息）
    * `config.json`（应用设置，包括工作区和已打开文件的位置）
    * `custom.css`（你的自定义CSS，如果有的话）
    * `tags.json`（带颜色标记的标签）
    * `targets.json`（你的写作目标）
    * `user.dic`（你自己的自定义字典）
    * `snippets`（你的片段文件夹）
    * `profiles`（你的配置文件文件夹）
3. 选择该目录中的所有内容并将其删除。
4. 重新启动应用程序。其中一些文件将会重新创建。

## 向社区寻求帮助

如果以上步骤都没能解决你的问题，你可以向社区寻求协助。其他人可能遇到过类似的问题，能为你提供帮助。比较活跃的社区有[Discord](https://discord.gg/PcfS3DM9Xj)和[Zettlr subreddit](https://www.reddit.com/r/Zettlr)。

## 在GitHub上创建issue

如果社区无法为你提供帮助，或者你遇到的似乎是一个bug，请在GitHub上创建一个issue。请提供尽可能多的信息，以便我们能够快速解决问题。在GitHub上创建issue后，请确保接收通知，因为我们通常会在你发起的issue下提问跟进。

## 恢复到以前的版本

在某些情况下，你可能希望恢复到以前的版本来暂时解决问题。然而，我们不建议这样做，这可能会导致其他问题。在尝试恢复到较旧版本之前，请备份数据。你可以在我们的[GitHub版本发布页面](https://github.com/Zettlr/Zettlr/releases)找到较旧的版本。在安装旧版本之前，请备份数据并确保安装前删除了其他文件。旧版本可能无法读取较新版本的配置格式，可能会导致应用崩溃。因此，（备份文件后）删除整个目录以确保旧版本能顺利运行。
